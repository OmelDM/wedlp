!function(a){"use strict";a.fn.ajaxrsvp=function(b){var c={messageWrapper:"#message",scrollAfterSubmit:!0},d=a.extend({},c,b),e=this.attr("id");this.submit(function(b){b.preventDefault();var c=a(this).find(".ajax-input"),f=a(this).attr("action"),g=[],h=[],i={};a.each(c,function(b,c){if(g.push(c.id),a(this).hasClass("ajax-checkbox")){var d=a("#"+c.id+" input[type='checkbox']:checked");d.length>0||!a(this).attr("data-required")?(a(this).removeClass("has-error"),i[c.id]=d.map(function(b,c){return a(this).val()}).get().join(", "),i[c.id+"_label"]=c.getAttribute("data-output-label")):(a(this).addClass("has-error"),h.push(c.getAttribute("data-required")))}else if(a(this).hasClass("ajax-radio")){var e=a("#"+c.id+" input").first().attr("name"),f=a("#"+c.id+" [type='radio'][name='"+e+"']:checked"),j=a("#"+c.id+" [type='radio'][name='"+e+"']:checked").val();null==j&&(j=""),f.length>0||!a(this).attr("data-required")?(a(this).removeClass("has-error"),i[c.id]=j,i[c.id+"_label"]=c.getAttribute("data-output-label")):(a(this).addClass("has-error"),h.push(c.getAttribute("data-required")))}else{var k=a(this).val();null==k||0==k.length?a(this).attr("data-required")&&(a(this).addClass("has-error"),h.push(c.getAttribute("data-required"))):(a(this).closest("div").removeClass("has-error"),i[c.id]=k,i[c.id+"_label"]=c.getAttribute("data-output-label"))}}),i.all_input_id=g,i.all_error_required=h,console.log("json "+JSON.stringify(i));var j=a('input[type="submit"]#submitButton').val();a('input[type="submit"]#submitButton').prop("disabled",!0);var k=a('input[type="submit"]#submitButton').attr("data-sending-label");a('input[type="submit"]#submitButton').val(k),a.post(f,i,function(b){var c="";"error"==b.type?(c='<div class="bg-danger">'+b.text+"</div>",d.failCallback()):(c='<div class="bg-success">'+b.text+"</div>",a("#"+e).find("input[type='text']").val(""),a("#"+e).find("input[type='email']").val(""),a("#"+e).find("textarea").val(""),a("#"+e).find("input[type='radio']").prop("checked",!1),a("#"+e).find(a(".ajax-radio .btn")).removeClass("active-icon active"),a("#"+e).find("input[type='checkbox']").attr("checked",!1),a("#"+e).find(a(".ajax-checkbox .btn")).removeClass("active-icon active"),a("#"+e).find("select").prop("selectedIndex",0),a("#"+e).find("select[multiple]").prop("selectedIndex",-1)),a('input[type="submit"]#submitButton').prop("disabled",!1),a('input[type="submit"]#submitButton').val(j),d.successCallback()},"json")})}}(jQuery);
